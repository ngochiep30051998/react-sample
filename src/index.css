@layer theme, base, components, utilities;
@import "tailwindcss/theme" layer(theme);
@import "tailwindcss/utilities" layer(utilities);
@config "../tailwind.config.js";

html,
body {
  @apply m-0 p-0 antialiased;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

/* Fix alignment issues caused by preflight:false */
button,
input,
select,
textarea {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}

img,
svg {
  vertical-align: middle;
}

/* Ant Design overrides with Tailwind */
@layer components {
  .ant-card {
    @apply !rounded-xl shadow-card border border-primary-100/30 transition-all duration-300;
  }

  .ant-card:hover {
    @apply -translate-y-1 shadow-card-hover;
  }

  .ant-btn-primary {
    @apply !border-none !shadow-md hover:-translate-y-0.5 hover:!shadow-lg transition-all duration-200;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
  }

  .ant-input,
  .ant-input-affix-wrapper,
  .ant-select-selector,
  .ant-input-number,
  .ant-picker {
    @apply !rounded-lg transition-all duration-200;
  }

  /* Fix inline form alignment */
  .ant-form-inline .ant-form-item {
    @apply !mb-0;
    vertical-align: middle;
  }

  .ant-btn {
    @apply inline-flex items-center justify-center;
  }
}

/* Sidebar menu overrides (Ant Design Menu internals) */
.sidebar-menu .ant-menu-item,
.sidebar-menu .ant-menu-submenu-title {
  @apply !h-11 !leading-[44px] !mx-3 !my-1 !px-4 !rounded-[10px] transition-all duration-200;
}

.sidebar-menu .ant-menu-item:hover,
.sidebar-menu .ant-menu-submenu-title:hover {
  @apply translate-x-1;
  background: rgba(102, 126, 234, 0.06) !important;
}

.sidebar-menu .ant-menu-item-selected {
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.12) 0%, rgba(118, 75, 162, 0.12) 100%) !important;
  @apply !text-primary !font-semibold shadow-sm;
}

.sidebar-menu .ant-menu-item-selected .ant-menu-item-icon,
.sidebar-menu .ant-menu-item-selected a {
  @apply !text-primary;
}

.sidebar-menu .ant-menu-item-icon {
  @apply !text-lg;
}

.sidebar-menu .ant-menu-title-content {
  @apply font-medium text-sm;
}

.sidebar-menu.ant-menu-inline-collapsed .ant-menu-item-selected {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
}

.sidebar-menu.ant-menu-inline-collapsed .ant-menu-item-selected .ant-menu-item-icon {
  @apply !text-white;
}

/* Sidebar dark mode */
.sidebar-menu--dark .ant-menu-item:hover,
.sidebar-menu--dark .ant-menu-submenu-title:hover {
  background: rgba(255, 255, 255, 0.04) !important;
}

.sidebar-menu--dark .ant-menu-item-selected {
  background: rgba(255, 255, 255, 0.08) !important;
  @apply !text-white;
}

.sidebar-menu--dark .ant-menu-item-selected .ant-menu-item-icon,
.sidebar-menu--dark .ant-menu-item-selected a {
  @apply !text-white;
}

.sidebar-menu--dark.ant-menu-inline-collapsed .ant-menu-item-selected {
  background: linear-gradient(135deg, #434343 0%, #000000 100%) !important;
}

/*
 * antd v6 focus ring overrides (outside @layer for maximum specificity).
 * antd v6 uses outline + outline-offset for focus rings.
 * We replace them with a custom border + box-shadow.
 */
.ant-input:focus,
.ant-input:focus-visible,
.ant-input:focus-within,
.ant-input-affix-wrapper:focus,
.ant-input-affix-wrapper:focus-visible,
.ant-input-affix-wrapper:focus-within,
.ant-input-affix-wrapper-focused,
.ant-input-number:focus-within,
.ant-input-number:focus-visible,
.ant-input-number-focused,
.ant-picker:focus-within,
.ant-picker:focus-visible,
.ant-picker-focused,
.ant-select-focused .ant-select-selector {
  border-color: #667eea !important;
  box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.1) !important;
  outline: none !important;
}
